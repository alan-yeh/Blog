---
layout: post
date: 2016-01-08
title: PSFile æ–‡ä»¶ç®¡ç†å·¥å…·
tags: Objective-C
---
ã€€ã€€ä½ æ˜¯å¦åŒå€¦äº†å†™ä¸€é•¿ä¸²ä»£ç æ¥è·å–Documentsç›®å½•ï¼Ÿä½ æ˜¯å¦åŒå€¦äº†NSFileManageré‚£ä¸€å¤§ä¸²å¤æ‚åˆéš¾è®°åˆéš¾æ‰“çš„apiï¼Ÿå¾ˆå¥½ï¼Œä½ ç°åœ¨å¯ä»¥ç”¨PSFileäº†ã€‚å› ä¸ºå®ƒè¶³å¤Ÿç®€å•ï¼Œä½†åŠŸèƒ½å´ä¸ç®€å•ã€‚

ã€€ã€€PSFileç®€å•åœ°å°è£…äº†PSFileManagerçš„ä¸€äº›åŠŸèƒ½ï¼Œç”¨äºæ”¯æŒå¿«é€Ÿç®¡ç†æ–‡ä»¶å’Œç›®å½•ã€‚
### 1 ç”¨æ³•
---
ã€€ã€€PSFileçš„å¤´æ–‡ä»¶ä¸­ï¼Œå·²ç»ä¸ºæ¯ä¸ªæ–¹æ³•åšä¸Šäº†æ³¨é‡Šï¼Œçœ‹äº†æ³¨é‡Šä¹‹åä¾¿å¯ä»¥äº†è§£å®ƒçš„ç”¨æ³•äº†ã€‚ä½†æ˜¯ï¼Œä¸‹é¢ä»ç„¶è¿˜æ˜¯åˆ—äº†ä¸€ç‚¹å®ƒçš„ç”¨æ³•å‡ºæ¥ï¼Œä¸ç„¶ï¼Œè¿™ä¸ªPostä¹Ÿå¤ªç®€å•äº†ğŸ˜ã€‚

```objective-c
   //è·å–Documentsç›®å½•
   [PSFile documents];
   
   //åœ¨Documentsç›®å½•ä¸‹åˆ›å»ºUsers/Caches/Filesç›®å½•
   [[[[[PSFile documents] child:@"Users"] child:@"Caches"] child:@"Files"] createIfNotExists];
   
   //è·å–Documents/Users/Database/workflows.dbæ–‡ä»¶è·¯å¾„
   //ä»…ä»…åªæ˜¯è·å–è·¯å¾„ï¼Œå°½ç®¡Databaseç›®å½•è¿˜æ²¡æœ‰åˆ›å»º
   NSString *filePath = [[[[[PSFile documents] child:@"Users"] child:@"Database"] child:@"workflows.db"].path;
   
   //æ¸…ç©ºLibrary/Cachesç›®å½•
   [[PSFile caches] clear];
   
   //åˆ é™¤Document/Usersç›®å½•ï¼ˆå­ç›®å½•å’Œæ–‡ä»¶éƒ½ä¼šè¢«åˆ æ‰ï¼‰
   [[[PSFile documents] child:@"Users"] delete];
   
   //è·å–ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹
   NSArray<PSFile *> *files = [[PSFile documents] childs];
   
   //è·å–æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹(é€’å½’è®¡ç®—)å¤§å°
   long long folderSize = [[[PSFile documents] child:@"Users"] child:@"Caches"].size;
   
   //åˆ¤æ–­æ˜¯æ–‡ä»¶å¤¹è¿˜æ˜¯æ–‡ä»¶
   //NO
   BOOL isDocument = [[[[[[PSFile documents] child:@"Users"] child:@"Database"] child:@"workflows.db"] isDocument];
   //YES
   BOOL isDocument = [PSFile documents].isDocument;
```